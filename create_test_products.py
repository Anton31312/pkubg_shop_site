#!/usr/bin/env python
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏.
"""
import os
import sys
import django

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Django
os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'pkubg_ecommerce.settings')
django.setup()

from products.models import Product, Category
from decimal import Decimal

def create_test_products():
    """–°–æ–∑–¥–∞–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏."""
    
    # –ü–æ–ª—É—á–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
    try:
        vitamins_category = Category.objects.get(slug='vitamins-minerals')
        sports_category = Category.objects.get(slug='sports-nutrition')
        healthy_category = Category.objects.get(slug='healthy-food')
    except Category.DoesNotExist:
        print("‚ùå –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç–µ create_product_categories.py")
        return
    
    products_data = [
        {
            'name': '–í–∏—Ç–∞–º–∏–Ω D3 2000 –ú–ï',
            'description': '–í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤–∏—Ç–∞–º–∏–Ω D3 –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –∑–¥–æ—Ä–æ–≤—å—è –∫–æ—Å—Ç–µ–π –∏ –∏–º–º—É–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã. –°–ø–æ—Å–æ–±—Å—Ç–≤—É–µ—Ç —É—Å–≤–æ–µ–Ω–∏—é –∫–∞–ª—å—Ü–∏—è –∏ —Ñ–æ—Å—Ñ–æ—Ä–∞.',
            'price': Decimal('1250.00'),
            'category': vitamins_category,
            'manufacturer': 'HealthyLife Supplements',
            'composition': '–•–æ–ª–µ–∫–∞–ª—å—Ü–∏—Ñ–µ—Ä–æ–ª (–≤–∏—Ç–∞–º–∏–Ω D3) - 50 –º–∫–≥ (2000 –ú–ï), –º–∏–∫—Ä–æ–∫—Ä–∏—Å—Ç–∞–ª–ª–∏—á–µ—Å–∫–∞—è —Ü–µ–ª–ª—é–ª–æ–∑–∞, —Å—Ç–µ–∞—Ä–∞—Ç –º–∞–≥–Ω–∏—è, –∂–µ–ª–∞—Ç–∏–Ω–æ–≤–∞—è –∫–∞–ø—Å—É–ª–∞.',
            'storage_conditions': '–•—Ä–∞–Ω–∏—Ç—å –≤ —Å—É—Ö–æ–º –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–º –º–µ—Å—Ç–µ –ø—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –Ω–µ –≤—ã—à–µ +25¬∞C. –ë–µ—Ä–µ—á—å –æ—Ç –ø—Ä—è–º—ã—Ö —Å–æ–ª–Ω–µ—á–Ω—ã—Ö –ª—É—á–µ–π. –•—Ä–∞–Ω–∏—Ç—å –≤ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ–º –¥–ª—è –¥–µ—Ç–µ–π –º–µ—Å—Ç–µ.',
            'stock_quantity': 150,
            'is_gluten_free': True,
            'is_active': True
        },
        {
            'name': '–ü—Ä–æ—Ç–µ–∏–Ω —Å—ã–≤–æ—Ä–æ—Ç–æ—á–Ω—ã–π –∏–∑–æ–ª—è—Ç',
            'description': '–í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–∑–æ–ª—è—Ç —Å—ã–≤–æ—Ä–æ—Ç–æ—á–Ω–æ–≥–æ –ø—Ä–æ—Ç–µ–∏–Ω–∞ —Å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ–º –±–µ–ª–∫–∞ 90%. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞–±–æ—Ä–∞ –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫.',
            'price': Decimal('3200.00'),
            'category': sports_category,
            'manufacturer': 'SportMax Nutrition',
            'composition': '–ò–∑–æ–ª—è—Ç —Å—ã–≤–æ—Ä–æ—Ç–æ—á–Ω–æ–≥–æ –±–µ–ª–∫–∞ (90%), –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –∞—Ä–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä—ã, –ø–æ–¥—Å–ª–∞—Å—Ç–∏—Ç–µ–ª—å —Å—Ç–µ–≤–∏—è, –ª–µ—Ü–∏—Ç–∏–Ω –ø–æ–¥—Å–æ–ª–Ω–µ—á–Ω–∏–∫–∞.',
            'storage_conditions': '–•—Ä–∞–Ω–∏—Ç—å –≤ —Å—É—Ö–æ–º –º–µ—Å—Ç–µ –ø—Ä–∏ –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ. –ü–æ—Å–ª–µ –≤—Å–∫—Ä—ã—Ç–∏—è –ø–ª–æ—Ç–Ω–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —É–ø–∞–∫–æ–≤–∫—É. –°—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏ 24 –º–µ—Å—è—Ü–∞.',
            'stock_quantity': 75,
            'is_gluten_free': True,
            'is_low_protein': False,
            'is_active': True
        },
        {
            'name': '–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ —Å–µ–º–µ–Ω–∞ —á–∏–∞',
            'description': '–ù–∞—Ç—É—Ä–∞–ª—å–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ —Å–µ–º–µ–Ω–∞ —á–∏–∞, –±–æ–≥–∞—Ç—ã–µ –æ–º–µ–≥–∞-3 –∂–∏—Ä–Ω—ã–º–∏ –∫–∏—Å–ª–æ—Ç–∞–º–∏, –∫–ª–µ—Ç—á–∞—Ç–∫–æ–π –∏ –±–µ–ª–∫–æ–º. –û—Ç–ª–∏—á–Ω—ã–π —Å—É–ø–µ—Ä—Ñ—É–¥ –¥–ª—è –∑–¥–æ—Ä–æ–≤–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è.',
            'price': Decimal('890.00'),
            'category': healthy_category,
            'manufacturer': 'EcoNature Organic',
            'composition': '–°–µ–º–µ–Ω–∞ —á–∏–∞ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–∏–µ (Salvia hispanica) 100%. –ë–µ–∑ –¥–æ–±–∞–≤–æ–∫ –∏ –∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç–æ–≤.',
            'storage_conditions': '–•—Ä–∞–Ω–∏—Ç—å –≤ —Å—É—Ö–æ–º –ø—Ä–æ—Ö–ª–∞–¥–Ω–æ–º –º–µ—Å—Ç–µ –≤ –≥–µ—Ä–º–µ—Ç–∏—á–Ω–æ –∑–∞–∫—Ä—ã—Ç–æ–π —É–ø–∞–∫–æ–≤–∫–µ. –ò–∑–±–µ–≥–∞—Ç—å –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤–ª–∞–≥–∏. –°—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏ 18 –º–µ—Å—è—Ü–µ–≤.',
            'stock_quantity': 200,
            'is_gluten_free': True,
            'is_active': True
        },
        {
            'name': '–ú—É–ª—å—Ç–∏–≤–∏—Ç–∞–º–∏–Ω–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å –¥–ª—è –∂–µ–Ω—â–∏–Ω',
            'description': '–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π –≤–∏—Ç–∞–º–∏–Ω–Ω–æ-–º–∏–Ω–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å –¥–ª—è –∂–µ–Ω—â–∏–Ω, —É—á–∏—Ç—ã–≤–∞—é—â–∏–π –æ—Å–æ–±—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –∂–µ–Ω—Å–∫–æ–≥–æ –æ—Ä–≥–∞–Ω–∏–∑–º–∞.',
            'price': Decimal('1680.00'),
            'category': vitamins_category,
            'manufacturer': 'WomenHealth Plus',
            'composition': '–í–∏—Ç–∞–º–∏–Ω—ã A, C, D, E, –≥—Ä—É–ø–ø—ã B, —Ñ–æ–ª–∏–µ–≤–∞—è –∫–∏—Å–ª–æ—Ç–∞, –∂–µ–ª–µ–∑–æ, –∫–∞–ª—å—Ü–∏–π, –º–∞–≥–Ω–∏–π, —Ü–∏–Ω–∫, —Å–µ–ª–µ–Ω. –ü–æ–ª–Ω—ã–π —Å–æ—Å—Ç–∞–≤ —É–∫–∞–∑–∞–Ω –Ω–∞ —É–ø–∞–∫–æ–≤–∫–µ.',
            'storage_conditions': '–•—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –Ω–µ –≤—ã—à–µ +25¬∞C –≤ —Å—É—Ö–æ–º –º–µ—Å—Ç–µ. –ë–µ—Ä–µ—á—å –æ—Ç –¥–µ—Ç–µ–π. –ù–µ –ø—Ä–µ–≤—ã—à–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—É—é –¥–æ–∑–∏—Ä–æ–≤–∫—É.',
            'stock_quantity': 120,
            'is_gluten_free': True,
            'is_active': True
        },
        {
            'name': '–û—Ä–≥–∞–Ω–∏—á–µ—Å–∫–æ–µ –∫–æ–∫–æ—Å–æ–≤–æ–µ –º–∞—Å–ª–æ',
            'description': '–ù–µ—Ä–∞—Ñ–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–æ–µ –∫–æ–∫–æ—Å–æ–≤–æ–µ –º–∞—Å–ª–æ —Ö–æ–ª–æ–¥–Ω–æ–≥–æ –æ—Ç–∂–∏–º–∞. –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –ø–∏—â–∏ –∏ –∫–æ—Å–º–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Ü–µ–ª–µ–π.',
            'price': Decimal('650.00'),
            'category': healthy_category,
            'manufacturer': 'TropicalLife Organic',
            'composition': '–ú–∞—Å–ª–æ –∫–æ–∫–æ—Å–æ–≤–æ–µ –æ—Ä–≥–∞–Ω–∏—á–µ—Å–∫–æ–µ –Ω–µ—Ä–∞—Ñ–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ 100%. –ë–µ–∑ –¥–æ–±–∞–≤–æ–∫, –∫–æ–Ω—Å–µ—Ä–≤–∞–Ω—Ç–æ–≤ –∏ –∞—Ä–æ–º–∞—Ç–∏–∑–∞—Ç–æ—Ä–æ–≤.',
            'storage_conditions': '–•—Ä–∞–Ω–∏—Ç—å –ø—Ä–∏ –∫–æ–º–Ω–∞—Ç–Ω–æ–π —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –≤ —Ç–µ–º–Ω–æ–º –º–µ—Å—Ç–µ. –ü—Ä–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–µ –Ω–∏–∂–µ +24¬∞C –º–æ–∂–µ—Ç –∑–∞—Ç–≤–µ—Ä–¥–µ–≤–∞—Ç—å - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.',
            'stock_quantity': 180,
            'is_gluten_free': True,
            'is_active': True
        }
    ]
    
    created_count = 0
    
    for product_data in products_data:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ –ø—Ä–æ–¥—É–∫—Ç —Å —Ç–∞–∫–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º
        if Product.objects.filter(name=product_data['name']).exists():
            print(f"‚ö†Ô∏è  –ü—Ä–æ–¥—É–∫—Ç '{product_data['name']}' —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç")
            continue
        
        product = Product.objects.create(**product_data)
        print(f"‚úÖ –°–æ–∑–¥–∞–Ω –ø—Ä–æ–¥—É–∫—Ç: {product.name}")
        print(f"   –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: {product.manufacturer}")
        print(f"   –¶–µ–Ω–∞: {product.price} ‚ÇΩ")
        created_count += 1
    
    print(f"\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:")
    print(f"–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤: {created_count}")
    print(f"–í—Å–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ –±–∞–∑–µ: {Product.objects.count()}")
    
    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
    print(f"\nüìã –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏:")
    for product in Product.objects.filter(manufacturer__isnull=False)[:3]:
        print(f"‚Ä¢ {product.name}")
        print(f"  –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å: {product.manufacturer}")
        print(f"  –°–æ—Å—Ç–∞–≤: {product.composition[:100]}...")
        print(f"  –£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è: {product.storage_conditions[:80]}...")
        print()

if __name__ == '__main__':
    create_test_products()